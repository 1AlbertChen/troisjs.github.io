import{A as e,f as s,E as t,F as a,m as o,n,i as r,o as i,j as h,e as l,s as d,t as p,U as m,p as f,a3 as c,r as u,q as C}from"./trois.module.37d9a68a.js";import{C as g,n as w}from"./100.d8f6f093.js";import{r as y,o as S,c as A,w as M,b as U,F as b,l as P}from"./app.0247f905.js";const{randFloat:x,randFloatSpread:z}=u,N={components:{AmbientLight:e,Camera:s,CannonWorld:g,EffectComposer:t,FXAAPass:a,InstancedMesh:o,PhongMaterial:n,Renderer:r,RenderPass:i,Scene:h,Sphere:l,SphereGeometry:d,SpotLight:p,UnrealBloomPass:m},setup:()=>({COUNT:250}),methods:{onBeforeStep(){const e=new C,s=this.$refs.renderer.three.pointer.positionV3;this.imesh.userData.bodies.forEach((t=>{e.copy(s).sub(t.position).normalize().multiplyScalar(.5),e.clampScalar(-.5,.5),t.force.copy(e)}))},initIMesh(e){this.imesh=e;const s=new f,t=new c,a=new Array(this.COUNT),o=new Array(this.COUNT),n=new Array(this.COUNT).fill().map((()=>w[20][Math.floor(x(0,5))]));for(let r=0;r<this.COUNT;r++){s.position.set(z(2),z(2),z(2));const i=x(.2,1);a[r]=i,o[r]=i,s.scale.set(i,i,i),s.updateMatrix(),e.setMatrixAt(r,s.matrix),e.setColorAt(r,t.set(n[r]))}e.instanceMatrix.needsUpdate=!0,e.userData.scales=a,e.userData.masses=o,e.userData.damping=.1},randomColors(){const e=Math.floor(x(0,100)),s=new c,t=new Array(this.COUNT).fill().map((()=>w[e][Math.floor(x(0,5))]));for(let a=0;a<this.COUNT;a++)this.imesh.setColorAt(a,s.set(t[a]));this.imesh.instanceColor.needsUpdate=!0}}};N.render=function(e,s,t,a,o,n){const r=y("Camera"),i=y("AmbientLight"),h=y("SpotLight"),l=y("SphereGeometry"),d=y("PhongMaterial"),p=y("InstancedMesh"),m=y("Sphere"),f=y("CannonWorld"),c=y("Scene"),u=y("RenderPass"),C=y("UnrealBloomPass"),g=y("FXAAPass"),w=y("EffectComposer"),x=y("Renderer");return S(),A(x,{ref:"renderer",pointer:"",resize:"",shadow:"",onClick:n.randomColors},{default:M((()=>[U(r,{position:{z:2.5}},null,8,["position"]),U(c,{background:"white"},{default:M((()=>[U(i,{color:"#505050"}),U(h,{color:"#ffffff",intensity:.5,position:{x:0,y:3,z:2},angle:Math.PI/8,penumbra:.1,"cast-shadow":"","shadow-map-size":{width:2048,height:2048}},null,8,["intensity","angle","penumbra"]),U(h,{color:"#ff0000",intensity:.5,position:{x:0,y:-3,z:2},angle:Math.PI/8,penumbra:.1,"cast-shadow":"","shadow-map-size":{width:2048,height:2048}},null,8,["intensity","angle","penumbra"]),U(f,{gravity:{x:0,y:0,z:0},onBeforeStep:n.onBeforeStep},{default:M((()=>[U(p,{ref:"imeshC",count:a.COUNT,onCreated:n.initIMesh,"cast-shadow":"","receive-shadow":""},{default:M((()=>[U(l,{radius:.1,"width-segments":16,"height-segments":16},null,8,["radius"]),U(d)])),_:1},8,["count","onCreated"]),(S(),A(b,null,P(3,(e=>U(m,{key:`sphere-${e}`,radius:.25,position:{x:e-2},"width-segments":16,"height-segments":16,"receive-shadow":""},{default:M((()=>[U(d)])),_:2},1032,["radius","position"]))),64))])),_:1},8,["onBeforeStep"])])),_:1}),U(w,null,{default:M((()=>[U(u),U(C,{strength:.5,threshold:.99},null,8,["strength","threshold"]),U(g)])),_:1})])),_:1},8,["onClick"])};export default N;
