import{A as t,B as e,f as s,E as i,F as a,m as r,n,h,i as o,o as d,j as l,u as m,v as u,p as f}from"./trois.module.eafdde0d.js";import{s as p}from"./simplex-noise.8c9179ab.js";import{r as c,o as y,c as N,w as P,b as I}from"./app.b0ad6587.js";const x=new p,A={components:{AmbientLight:t,BoxGeometry:e,Camera:s,EffectComposer:i,FXAAPass:a,InstancedMesh:r,PhongMaterial:n,PointLight:h,Renderer:o,RenderPass:d,Scene:l,TiltShiftPass:m},setup:()=>({SIZE:1.6,NX:25,NY:25,PADDING:1,SIZEP:2.6,W:64,H:64,NUM_INSTANCES:625}),data:()=>({tiltRadius:100,tiltY:100}),computed:{tiltStart(){return{x:0,y:this.tiltY}},tiltEnd(){return{x:100,y:this.tiltY}}},mounted(){this.renderer=this.$refs.renderer,this.size=this.renderer.three.size,this.imesh=this.$refs.imesh.mesh;const t=[];for(let e=0;e<this.NUM_INSTANCES;e++){const e=Math.random();t.push(e,e,e)}this.imesh.geometry.setAttribute("color",new u(new Float32Array(t),3)),this.tiltRadius=this.size.height/3,this.tiltY=this.size.height/2,this.renderer.onResize(this.updateTilt),this.dummy=new f,this.renderer.onBeforeRender(this.animate)},methods:{animate(){this.updateInstanceMatrix()},updateTilt({positionN:t}){this.tiltRadius=this.size.height/3,this.tiltY=.5*(t.y+1)*this.size.height},updateInstanceMatrix(){const t=-this.W/2+this.PADDING,e=-this.H/2+this.PADDING,s=1e-4*Date.now();let i,a,r,n,h,o;for(let d=0;d<this.NX;d++)for(let l=0;l<this.NY;l++)i=t+d*this.SIZEP,a=e+l*this.SIZEP,r=.005*i,n=.005*a,h=x.noise3D(r,n,s)*Math.PI,o=x.noise3D(n,r,s)*Math.PI,this.dummy.position.set(i,a,-10),this.dummy.rotation.set(h,o,0),this.dummy.updateMatrix(),this.imesh.setMatrixAt(d*this.NY+l,this.dummy.matrix);this.imesh.instanceMatrix.needsUpdate=!0}}};A.render=function(t,e,s,i,a,r){const n=c("Camera"),h=c("AmbientLight"),o=c("PointLight"),d=c("BoxGeometry"),l=c("PhongMaterial"),m=c("InstancedMesh"),u=c("Scene"),f=c("RenderPass"),p=c("FXAAPass"),x=c("TiltShiftPass"),A=c("EffectComposer"),M=c("Renderer");return y(),N(M,{ref:"renderer",resize:"",pointer:{onMove:r.updateTilt}},{default:P((()=>[I(n,{position:{y:-20,z:10},"look-at":{x:0,y:0,z:0}}),I(u,{background:"#ffffff"},{default:P((()=>[I(h),I(o,{ref:"light",position:{y:0,z:20}},null,512),I(m,{ref:"imesh",count:i.NUM_INSTANCES,position:{y:20,z:10}},{default:P((()=>[I(d,{size:i.SIZE},null,8,["size"]),I(l,{props:{vertexColors:!0}})])),_:1},8,["count"])])),_:1}),I(A,null,{default:P((()=>[I(f),I(p),I(x,{"gradient-radius":a.tiltRadius,start:{x:0,y:this.tiltY},end:{x:100,y:this.tiltY}},null,8,["gradient-radius","start","end"])])),_:1})])),_:1},8,["pointer"])};export default A;
