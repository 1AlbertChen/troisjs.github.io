import{ao as t}from"./OrbitControls.94891aa4.js";import{s as i}from"./simplex-noise.15c7488f.js";import{x as s,r as e,o,c as r,w as n,b as l,F as h,l as a,y as d}from"./app.efb59aa7.js";import{A as u,a as c,c as p,R as m,S as y,d as g,k as b}from"./trois.module.2e8c671e.js";const f=new i,x={components:{AmbientLight:u,Camera:c,PointLight:p,Renderer:m,Scene:y,StandardMaterial:g,Tube:b},data:()=>({tubes:[],light1Color:"#b307b5",light2Color:"#8132aa",light3Color:"#5737d0",light4Color:"#0d25bb"}),mounted(){this.renderer=this.$refs.renderer,this.size=this.renderer.three.size,this.initTubes();const t=this.renderer.three.pointer.positionN;this.renderer.onBeforeRender((()=>{const i=2e-4*Date.now();let s,e,o,r,n,l,h;for(let a=0;a<15;a++){s=this._points[a];for(let d=0;d<40;d++)e=this.x0+d*this.dx,r=.25*e,o=this.y0+a*this.dy,n=.25*o,l=.3*f.noise2D(r-i+.3*t.x,n-i+.3*t.y),h=.3*f.noise2D(n+i,r+i),s[d].x=e,s[d].y=o+l,s[d].z=h;this.$refs[this.tubes[a].key].updatePoints(s)}}))},methods:{initTubes(){this._points=[],this.tubes.splice(0),this.dx=this.size.wWidth/39,this.dy=this.size.wHeight/14,this.x0=-this.size.wWidth/2,this.y0=-this.size.wHeight/2;for(let i=0;i<15;i++){const s=[];this._points[i]=[];for(let e=0;e<40;e++){const o=new t(this.x0+e*this.dx,this.y0+i*this.dy,0);s.push(o),this._points[i].push(o.clone())}this.tubes.push({key:`tube-${i}`,points:s,radius:.1,tubularSegments:40,radialSegments:8})}},randomColors(){this.light1Color=s.random().hex(),this.light2Color=s.random().hex(),this.light3Color=s.random().hex(),this.light4Color=s.random().hex()}}};x.render=function(t,i,s,u,c,p){const m=e("Camera"),y=e("PointLight"),g=e("StandardMaterial"),b=e("Tube"),f=e("Scene"),x=e("Renderer");return o(),r(x,{ref:"renderer",antialias:"","orbit-ctrl":{enableDamping:!0},pointer:"",resize:"",onClick:p.randomColors},{default:n((()=>[l(m,{position:{z:5}}),l(f,{background:"#000000"},{default:n((()=>[l(y,{color:c.light1Color,position:{x:-2,y:-2,z:2},intensity:.5},null,8,["color","intensity"]),l(y,{color:c.light2Color,position:{x:-2,y:2,z:2},intensity:.5},null,8,["color","intensity"]),l(y,{color:c.light3Color,position:{x:2,y:2,z:2},intensity:.5},null,8,["color","intensity"]),l(y,{color:c.light4Color,position:{x:2,y:-2,z:2},intensity:.5},null,8,["color","intensity"]),(o(!0),r(h,null,a(c.tubes,(t=>(o(),r(b,d({ref:t.key},t),{default:n((()=>[l(g,{roughness:.4,metalness:1},null,8,["roughness"])])),_:2},1040)))),256))])),_:1})])),_:1},8,["onClick"])};export default x;
