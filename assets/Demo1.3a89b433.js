import{A as a,$ as e,f as t,m as o,n as s,P as n,i,j as r,s as h,t as l,a9 as d,p,a3 as m,r as c}from"./trois.module.37d9a68a.js";import{C as f,n as u}from"./100.d8f6f093.js";import{r as g,o as C,c as w,w as y,b as M,F as x,l as b}from"./app.0247f905.js";const{randFloat:S,randFloatSpread:z}=c,A={components:{AmbientLight:a,Box:e,Camera:t,InstancedMesh:o,PhongMaterial:s,Plane:n,Renderer:i,Scene:r,SphereGeometry:h,SpotLight:l,ToonMaterial:d,CannonWorld:f},setup:()=>({COUNT:500}),methods:{initIMesh(a){this.imesh=a;const e=new p,t=new m,o=new Array(this.COUNT),s=new Array(this.COUNT),n=new Array(this.COUNT).fill().map((()=>u[20][Math.floor(S(0,5))]));for(let i=0;i<this.COUNT;i++){e.position.set(z(2),z(5),0);const r=S(.2,1);o[i]=r,s[i]=.01*r,e.scale.set(r,r,r),e.updateMatrix(),a.setMatrixAt(i,e.matrix),a.setColorAt(i,t.set(n[i]))}a.instanceMatrix.needsUpdate=!0,a.userData.scales=o,a.userData.masses=s,a.userData.damping=.7},onBeforeStep(){this.imesh.userData.bodies.forEach((a=>{a.position.y<-7&&(a.position.set(z(2),S(5,7),0),a.angularVelocity.set(0,0,0,0),a.velocity.set(0,0,0),a.quaternion.set(0,0,0,1))}))},randomColors(){const a=Math.floor(S(0,100)),e=new m,t=new Array(this.COUNT).fill().map((()=>u[a][Math.floor(S(0,5))]));for(let o=0;o<this.COUNT;o++)this.imesh.setColorAt(o,e.set(t[o]));this.imesh.instanceColor.needsUpdate=!0}}};A.render=function(a,e,t,o,s,n){const i=g("Camera"),r=g("AmbientLight"),h=g("SpotLight"),l=g("PhongMaterial"),d=g("Plane"),p=g("SphereGeometry"),m=g("ToonMaterial"),c=g("InstancedMesh"),f=g("Box"),u=g("CannonWorld"),S=g("Scene"),z=g("Renderer");return C(),w(z,{ref:"renderer",antialias:"","orbit-ctrl":"",resize:"",shadow:"",onClick:n.randomColors},{default:y((()=>[M(i,{position:{z:7}}),M(S,{background:"white"},{default:y((()=>[M(r,{color:"#aaaaaa"}),M(h,{color:"#aaaaaa",intensity:.5,position:{x:0,y:1,z:2},angle:Math.PI/3,penumbra:.5,"cast-shadow":"","shadow-map-size":{width:1024,height:1024}},null,8,["intensity","angle","penumbra"]),M(h,{color:"#ff0000",intensity:.5,position:{x:0,y:-1,z:2},angle:Math.PI/3,penumbra:.5,"cast-shadow":"","shadow-map-size":{width:1024,height:1024}},null,8,["intensity","angle","penumbra"]),M(d,{width:15,height:15,position:{z:-.1},"receive-shadow":""},{default:y((()=>[M(l,{color:"#aaaaaa"})])),_:1},8,["position"]),M(u,{gravity:{x:0,y:-9.82,z:0},onBeforeStep:n.onBeforeStep},{default:y((()=>[M(c,{ref:"imeshC",count:o.COUNT,onCreated:n.initIMesh,"cast-shadow":""},{default:y((()=>[M(p,{radius:.1,"width-segments":16,"height-segments":16},null,8,["radius"]),M(m)])),_:1},8,["count","onCreated"]),(C(),w(x,null,b(6,(a=>M(f,{key:`box-${a}`,width:3,height:.05,depth:.2,position:{x:1*(a%2==0?1:-1),y:1.5*(a-3.5),z:0},rotation:{z:(a%2==0?1:-1)*Math.PI/6},"cast-shadow":""},{default:y((()=>[M(l,{color:"#aaaaaa"})])),_:2},1032,["height","depth","position","rotation"]))),64))])),_:1},8,["gravity","onBeforeStep"])])),_:1})])),_:1},8,["onClick"])};export default A;
